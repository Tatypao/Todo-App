<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TODO App-Primera vista</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <script>
    
    /*document.addEventListener("DOMContentLoaded",init);
    function init(){
      console.log("hola");
    }*/
   
      /*console.log(list);
      list.append("hola");
      list.append("que tal");*/
      /*const titulo = document.createElement('h3');
      titulo.textContent = 'Second checkbox';
      list.appendChild(titulo);

      const subtitulo = document.createElement('p');
      subtitulo.textContent = 'Descripcion de la tarea';
      list.appendChild(subtitulo);*/

     

      document.addEventListener("DOMContentLoaded",()=>{
        const listadoDeTareas= [
      {titulo:"tarea 1", subtitulo:"descripcion de la tarea 1", id:"1"},
      {titulo:"tarea 2", subtitulo:"descripcion de la tarea 2",id:"2"},
      {titulo:"tarea 3", subtitulo:"descripcion de la tarea 3",id:"3"},
      {titulo:"tarea 4", subtitulo:"descripcion de la tarea 4",id:"4"},
      {titulo:"tarea 5", subtitulo:"descripcion de la tarea 5",id:"5"}
    ];
      const list= document.getElementById("container_task");
      for( let i=0; i<listadoDeTareas.length; i++){
        createTask(listadoDeTareas[i]);
      }
      
      function createTask(task){
        const li = document.createElement('li');
        li.classList.add('list-group-item','body--list','d-flex','justify-content-between','px-3');
        li.setAttribute('id','tarea_'+task.id);

        const div = document.createElement('div');
        div.classList.add('position-relative');

        const input= document.createElement('input');
        input.classList.add('form-check-input','me-1','position-absolute');
        input.setAttribute('type','checkbox');
        div.appendChild(input);

        const divDes = document.createElement('div');
        divDes.classList.add('list--description');
          
        const h6 = document.createElement('h6');
        h6.textContent = task.titulo;
        divDes.appendChild(h6);
        
        const p = document.createElement('p');
        p.textContent = task.subtitulo;
        divDes.appendChild(p);
        div.appendChild(divDes);
        
        const a = document.createElement('a');
        a.classList.add('a--pencil','align-self-center');
        a.addEventListener('click',() => {
          console.log(task.id);
          const elementoActual= document.getElementById('tarea_'+task.id);
          elementoActual.parentNode.removeChild(elementoActual);
        });

        const icon = document.createElement('i');
        icon.classList.add('bi','bi-trash-fill');
        a.appendChild(icon);

        li.appendChild(div);
        li.appendChild(a);
        list.appendChild(li);
      }

      const addTask= document.getElementById("add");
      addTask.addEventListener("click", () =>{
        console.log('me diste click aumentar');

        listadoDeTareas.push({titulo:`tarea ${listadoDeTareas.length+1}`,subtitulo:`descripcion ${listadoDeTareas.length+1}`,id:`${listadoDeTareas.length+1}`});

        createTask(listadoDeTareas[listadoDeTareas.length-1]);

       
      });
    });

    </script>
</head>
<body>
    <div class="main d-flex flex-column justify-content-between border">
        <nav class="navbar border-bottom border-2">
          <div class="container-fluid justify-content-start align-items-center">
              <i class="bi bi-list-ul navbar--i"></i>
              <h4   class="navbar--h4" id="titulo">Task Lists</h4>
          </div>
        </nav>
        <section class="body">
          <ul id="container_task" class="body--ul list-group list-group-flush">
          </ul>
        </section>
        <section class="footer container-fluid border-top">
          <div class="d-flex justify-content-between">
            <button type="button" class="btn footer--btn__select btn-danger" id="papelera">
              <i class="bi bi-trash-fill d-flex justify-content-center " ></i>
            </button>
            <div>
              <button type="button" class="btn footer--btn__select btn-outline-success">
                <i class="bi d-flex justify-content-center bi-check2"></i>
              </button>
              <button type="button" class="btn footer--btn__select btn-outline-danger">
                <i class="bi d-flex justify-content-center bi-x"></i>
              </button>
            </div>
            <a class="btn footer--btn__add btn-primary" id="add">Add Task</a>
          </div>
        </section>
    </div>
    
</body>
</html>